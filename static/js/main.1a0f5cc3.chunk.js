(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},106:function(e,t,n){},127:function(e,t,n){},153:function(e,t){},156:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(0),c=n.n(s),r=n(8),o=n.n(r),i=(n(97),n(25)),l=n(172),u=n(15),j=n(29),d=(n(102),n(85)),b="GET_COLOR",m="SET_COLOR",O="ADD_MESSAGE",f="UPDATE_MESSAGES",h=function(e){return{type:f,payload:e}},g="SET_USERS",x=(n(103),n(169)),v=n(170),p=n(80),y=n.n(p),C=(n(104),Object(x.a)((function(){return{icon:{color:"#0F0"}}})));var N=function(){var e=C();return Object(a.jsx)("div",{className:"header",children:Object(a.jsxs)("div",{className:"leftInnerContainer",children:[Object(a.jsx)(y.a,{className:e.icon}),Object(a.jsx)(v.a,{variant:"h5",children:"Chat Away"})]})})},w=n(171),S=n(6),E=Object(x.a)((function(e){var t,n;return{info_container:(t={},Object(S.a)(t,e.breakpoints.down("md"),{fontSize:"1rem",width:"50%"}),Object(S.a)(t,e.breakpoints.up("md"),{fontSize:"1rem",width:"30%"}),Object(S.a)(t,"overflow","auto"),Object(S.a)(t,"textAlign","center"),Object(S.a)(t,"height","100%"),Object(S.a)(t,"color","#FFFFFF"),Object(S.a)(t,"backgroundColor","#1139FF"),t),header:(n={},Object(S.a)(n,e.breakpoints.down("sm"),{fontSize:"1.3rem"}),Object(S.a)(n,e.breakpoints.up("sm"),{fontSize:"2rem"}),Object(S.a)(n,"textTransform","Capitalize"),Object(S.a)(n,"textDecoration","underline"),n),user:{textDecoration:"underline",fontSize:"1rem",color:"#F9F2EE"}}}));var F=function(e){var t=e.username,n=Object(u.c)((function(e){return e.UsersReducer.users})),s=E();return Object(a.jsxs)(w.a,{className:s.info_container,children:[Object(a.jsx)(v.a,{className:s.header,gutterBottom:!0,children:"Online"}),n.map((function(e,n){return e.username===t?Object(a.jsx)(v.a,{variant:"subtitle2",children:Object(a.jsxs)("b",{children:[e.username," (YOU)"]})},n):Object(a.jsx)(v.a,{variant:"subtitle2",children:e.username},n)}))]})},k=(n(106),n(173)),T=n(81),D=n.n(T);var R=function(e){var t=e.handleMessage,n=Object(s.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1],u=function(){""!==r&&(t(r),o(""))};return Object(a.jsxs)(l.a,{display:"flex",component:"div",className:"input-form",children:[Object(a.jsx)("input",{onChange:function(e){return o(e.target.value)},value:r,className:"message-input",onKeyDown:function(e){13===e.keyCode&&u()}}),Object(a.jsx)(k.a,{className:"message-button",color:"primary",variant:"contained",startIcon:Object(a.jsx)(D.a,{}),onClick:u,children:"Send"})]})},M=n(82),U=n.n(M),_=n(55),z=n.n(_);n(127);var A=function(e){var t=e.message,n=e.username;return t.username===n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"user-info justifyEnd",children:[Object(a.jsxs)(v.a,{variant:"body2",className:"sentText pl-10",children:[t.username," :"]}),Object(a.jsxs)(v.a,{variant:"caption",children:[" ",t.date]})]}),Object(a.jsx)("div",{className:"messageContainer justifyEnd",children:Object(a.jsx)("div",{className:"messageBox backgroundLight ",children:Object(a.jsx)(v.a,{variant:"body2",className:"messageText",style:{color:"#".concat(t.color)},children:Object(a.jsxs)("b",{children:[" ",z.a.emojify(t.text)]})})})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"user-info",children:[Object(a.jsxs)(v.a,{variant:"body2",className:"sentText pl-10",children:[t.username," :"]}),Object(a.jsx)(v.a,{variant:"caption",children:t.date})]}),Object(a.jsx)("div",{className:"messageContainer justifyStart",children:Object(a.jsx)("div",{className:"messageBox backgroundLight",children:Object(a.jsx)(v.a,{variant:"body2",className:"messageText colorDark",style:{color:"#".concat(t.color)},children:z.a.emojify(t.text)})})})]})},L=Object(x.a)({scroll:{overflowY:"auto",flex:"auto"}});var B=function(e){var t=e.username,n=Object(u.c)((function(e){return e.MessageReducer.messages})),s=L(),c=n.map((function(e,n){return Object(a.jsxs)("div",{children:[" ",Object(a.jsx)(A,{message:e,username:t})]},n)}));return Object(a.jsx)(U.a,{className:s.scroll,children:Object(a.jsx)("div",{className:s.messages,children:c})})},I=n(83),G=n.n(I)()("https://seng513-assignment3.herokuapp.com/");var P=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.ColorReducer.color})),n=new d.a,c=Object(s.useState)(""),r=Object(i.a)(c,2),o=r[0],b=r[1];Object(s.useEffect)((function(){var e="",t=n.get("username");t&&(e=t),G.emit("join",e)}),[]),Object(s.useEffect)((function(){G.on("chat message",(function(t){console.log("got message"),console.log(t),e({type:O,payload:t})})),G.on("update messages",(function(t){e(h(t))})),G.on("success",(function(e){j.b.success(e,{position:"top-center",autoClose:5e3,draggable:!0})})),G.on("username exist",(function(e){j.b.error("Username Exists!",{position:"top-center",autoClose:5e3,draggable:!0})})),G.on("setUsername",(function(e){f(e)})),G.on("roomData",(function(t){e(function(e){return{type:g,payload:e}}(t))}))}),[]);var f=function(t){b(t.username),n.set("username",t.username),e(h(t.allMessages))},x=function(n){var a=n.split(" ");if("/color"===a[0]){a.shift();var s=a.join(" ");console.log("new color"+s),6===s.length?(e(function(e){return{type:m,payload:e}}(s)),G.emit("new color",{username:o,newColor:s})):j.b.error("Color is invalid!",{position:"top-center",autoClose:5e3,draggable:!0})}else G.emit("chat-message",{username:o,text:n,color:t})};return Object(a.jsxs)("div",{className:"chat-outerContainer",children:[Object(a.jsx)(F,{username:o}),Object(a.jsxs)(l.a,{component:"div",className:"chat-container",children:[Object(a.jsx)(N,{}),Object(a.jsx)(B,{username:o}),Object(a.jsx)(R,{handleMessage:function(e){e.includes("/name")?function(e){var n=e.split(" ");if("/name"===n[0]){n.shift();var a=n.join(" ");console.log("new name"+a),a.length<10?G.emit("new name",{username:o,newName:a}):j.b.error("Username is too long, please enter 10 characters or less!",{position:"top-center",autoClose:5e3,draggable:!0})}else G.emit("chat-message",{username:o,text:e,color:t})}(e):e.includes("/color")?x(e):G.emit("chat-message",{username:o,text:e,color:t})}})]}),Object(a.jsx)(j.a,{})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))},Y=n(26),K=n(84),q=n(14),H={color:"000000"},Q={users:[]},V=n(13),W={messages:[]},X=Object(Y.c)({ColorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return e;case m:return Object(q.a)(Object(q.a)({},e),{},{color:t.payload});default:return e}},UsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(q.a)(Object(q.a)({},e),{},{users:t.payload});default:return e}},MessageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(q.a)(Object(q.a)({},e),{},{messages:[].concat(Object(V.a)(e.messages),[t.payload])});case f:return Object(q.a)(Object(q.a)({},e),{},{messages:[e.messages[0]].concat(Object(V.a)(t.payload))});default:return e}}}),Z=Object(Y.d)(X,Object(Y.a)(K.a));o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(u.a,{store:Z,children:Object(a.jsx)(P,{})})}),document.getElementById("root")),J()},97:function(e,t,n){}},[[156,1,2]]]);
//# sourceMappingURL=main.1a0f5cc3.chunk.js.map